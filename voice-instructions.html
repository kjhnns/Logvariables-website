<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Set up your iPhone Action Button to log variables with a single press">
    <title>Action Button Setup - Variables</title>
    <link rel="stylesheet" href="style.css">
    <!-- Google tag (gtag.js) - loaded after consent -->
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}

      function loadGoogleTag() {
        var script = document.createElement('script');
        script.async = true;
        script.src = 'https://www.googletagmanager.com/gtag/js?id=AW-819369951';
        document.head.appendChild(script);
        gtag('js', new Date());
        gtag('config', 'AW-819369951');
      }

      // Check if consent was already given
      if (localStorage.getItem('cookie-consent') === 'accepted') {
        loadGoogleTag();
      }

      // Track conversion when user clicks Launch App
      function trackAppLaunch() {
        if (typeof gtag === 'function' && localStorage.getItem('cookie-consent') === 'accepted') {
          gtag('event', 'conversion', {
            'send_to': 'AW-819369951/HrMjCLTF1-EbEN-v2oYD',
            'value': 1.0,
            'currency': 'EUR'
          });
        }
      }

      // Attach click handlers to all app launch links
      document.addEventListener('DOMContentLoaded', function() {
        var appLinks = document.querySelectorAll('a[href="https://app.logvariables.com"]');
        appLinks.forEach(function(link) {
          link.addEventListener('click', trackAppLaunch);
        });
      });
    </script>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="container">
            <div class="logo"><a href="index.html" style="color: inherit; text-decoration: none;">Variables</a></div>
            <div class="nav-actions">
                <a href="https://app.logvariables.com" class="nav-app-link">Launch App</a>
            </div>
        </div>
    </nav>

    <!-- Voice Instructions Content -->
    <section class="privacy-content">
        <div class="container">
            <h1 class="privacy-title">Action Button Setup</h1>
            <p class="privacy-intro">Log variables with a single button press</p>

            <div class="privacy-section">
                <p>Voice recording is built into the app—just tap the microphone and start talking. But if you have an iPhone with an Action Button, you can make it even faster.</p>
                <p>This guide shows you how to set up the Action Button to open Variables and start recording immediately.</p>
            </div>

            <div class="privacy-section">
                <h2>1. Get your API Key</h2>
                <p>The shortcut needs permission to send data to your account.</p>
                <ul class="privacy-list">
                    <li>Open the Variables app.</li>
                    <li>Go to Settings.</li>
                    <li>Tap Generate API Key.</li>
                    <li>Copy it to your clipboard.</li>
                </ul>
            </div>

            <div class="privacy-section">
                <h2>2. Install the Shortcut</h2>
                <ul class="privacy-list">
                    <li><strong>Download:</strong> <a href="https://www.icloud.com/shortcuts/fd2526e42fba4a72aeca734fc9c3f197" style="color: var(--color-interactive); text-decoration: underline;">Tap this link</a> to add the shortcut to your phone.</li>
                    <li><strong>Configure:</strong> In the Shortcuts app, tap the three dots (...) on the Variables shortcut to edit it.</li>
                    <li><strong>Add your key:</strong> Find the text block that says "vk_abcdef PUT API KEY HERE" and replace it with your API key.</li>
                    <li>Tap Done.</li>
                </ul>
            </div>

            <div class="privacy-section">
                <h2>3. Assign to Action Button</h2>
                <p>This works on iPhone 15 Pro and newer.</p>
                <ul class="privacy-list">
                    <li>Go to iPhone Settings > Action Button.</li>
                    <li>Swipe to Shortcut.</li>
                    <li>Select the Variables shortcut.</li>
                </ul>
                <p>Now you can hold the Action Button, say something like "slept 7 hours, mood good, coffee 2 cups", and it gets logged automatically.</p>
            </div>

            <div class="privacy-section">
                <h2>No Action Button?</h2>
                <p>You can still use voice logging—just open the app and tap the microphone. Or add the shortcut to your home screen for quicker access.</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="logo">Variables</div>
                    <p class="footer-tagline">Log it. Understand it.</p>
                </div>
                <div class="footer-links">
                    <a href="philosophy.html" class="footer-link">Philosophy</a>
                    <a href="privacy.html" class="footer-link">Privacy</a>
                    <a href="voice-instructions.html" class="footer-link">Action Button</a>
                    <a href="terms.html" class="footer-link">Terms</a>
                    <a href="mailto:johannesklumpe@gmail.com" class="footer-link">Contact</a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Variables. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>

    <!-- Cookie Consent Banner -->
    <div id="consent-banner" class="consent-banner hidden">
        <div class="consent-content">
            <div class="consent-text">
                <p>We use cookies to analyze site traffic. By clicking "Accept", you consent to our use of cookies. <a href="privacy.html">Learn more</a></p>
            </div>
            <div class="consent-buttons">
                <button class="consent-btn decline" onclick="declineConsent()">Decline</button>
                <button class="consent-btn accept" onclick="acceptConsent()">Accept</button>
            </div>
        </div>
    </div>

    <script>
      (function() {
        var consent = localStorage.getItem('cookie-consent');
        if (!consent) {
          document.getElementById('consent-banner').classList.remove('hidden');
        }
      })();

      function acceptConsent() {
        localStorage.setItem('cookie-consent', 'accepted');
        document.getElementById('consent-banner').classList.add('hidden');
        loadGoogleTag();
      }

      function declineConsent() {
        localStorage.setItem('cookie-consent', 'declined');
        document.getElementById('consent-banner').classList.add('hidden');
      }
    </script>
</body>
</html>
